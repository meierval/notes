<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>notes</title>

    <link rel="icon" href="assets/images/favicon.ico" />
    <link rel="stylesheet" href="stylesheets/main.css" />

    <script id="notes-list-template" type="text/x-handlebars-template">
      {{#each notes}}
        <article class="note">
          <div class="importance">{{#times importance}}!{{/times}}</div>
          <h2 class="title">{{title}}</h2>
          <div class="creation-date">{{formatDate creationDate}}</div>
          <div class="status">
            <input type="checkbox" class="status" id="status-checkbox-{{id}}" {{#if isDone}}checked{{/if}} />
            <label for="status-checkbox-{{id}}"><span class="checkbox"></span> </label>
          </div>
          <p class="content">{{content}}</p>
          <div class="finish-by-date">Finish by: {{formatDate toBeFinishedByDate}}</div>
          <button type="button" class="edit-button" data-note-id="{{id}}">Edit</button>
        </article>
      {{/each}}
      {{#unless notes.length}}
        No notes.
      {{/unless}}
    </script>

    <script id="edit-note-template" type="text/x-handlebars-template">
      <form class="note editable" data-note-id="{{note.id}}">
        <div class="importance editable">{{#times note.importance}}!{{/times}}</div>
        <input
                class="title editable"
                type="text"
                placeholder="Enter a title..."
                minlength="3"
                maxlength="30"
                value="{{note.title}}"
                required
        />
        <div class="creation-date" readonly>{{formatDate note.creationDate}}</div>
        <div class="status">
          <input type="checkbox" class="status editable" id="status-checkbox-{{note.id}}" {{#if note.isDone}}checked{{/if}} />
          <label for="status-checkbox-{{note.id}}"><span class="checkbox"></span></label>
        </div>
        <textarea
                class="content editable"
                placeholder="Type something..."
                minlength="1"
                maxlength="500"
        >{{note.content}}</textarea>
        <label class="finish-by-date"
        >Finish by: <input class="editable" type="date" required value="{{formatDateForInput note.toBeFinishedByDate}}"
        /></label>
        <button type="submit" class="save-button" id="update-button-{{note.id}}" data-action="addNote">Update</button>
        <button type="button" class="cancel-button" id="cancel-button-{{note.id}}">Cancel</button>
      </form>
    </script>
  </head>
  <body class="light-theme">
    <div class="top-line"></div>
    <header>
      <button type="button" id="theme-button">ðŸ’¡</button>
      <h1>NOTES</h1>
    </header>

    <nav>
      <button type="button" id="order-by-finish-date-button" data-status="inactive">By finish Date</button>
      <button type="button" id="order-by-creation-date-button" data-status="inactive">By creation Date</button>
      <button type="button" id="order-by-importance-button" data-status="inactive">By importance</button>
      <button type="button" id="new-note-button">+</button>
      <button type="button" id="show-finished-button" data-is-active="false">Show finished</button>
    </nav>
    <main>
      <form class="note editable" id="new-note-form">
        <div class="importance editable" id="new-note-importance">!</div>
        <input
          class="title editable"
          id="new-note-title"
          type="text"
          placeholder="Enter a title..."
          minlength="3"
          maxlength="30"
          required
        />
        <div class="status">
          <input type="checkbox" class="status editable" id="new-note-status" />
          <label for="new-note-status"><span class="checkbox"></span></label>
        </div>
        <textarea
          class="content editable"
          id="new-note-content"
          placeholder="Type something..."
          minlength="1"
          maxlength="500"
        ></textarea>
        <label class="finish-by-date"
          >Finish by: <input class="editable" id="new-note-finish-by-date" type="date" required
        /></label>
        <button type="button" class="save-button" data-action="addNote">Add</button>
        <button type="button" class="cancel-button" id="new-note-cancel-button">Cancel</button>
      </form>

      <div id="notes-container"></div>
    </main>

    <footer>
      <p>&lt/source&gt</p>
    </footer>

    <script src="scripts/lib/handlebars.min-v4.7.6.js" defer></script>
    <script src="scripts/utils.js"></script>
    <script src="scripts/bootstrapper.js" type="module"></script>
  </body>
</html>
